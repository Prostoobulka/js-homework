<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>task 0</title>
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/style.css">
</head>

<body>
	<div class="wrapper">
		<div class="result">
			<div class="result__body">
				<h1 class="result__title">Задача №2</h1>
				<p>З клавіатури вводиться ціна товару і кількість грошей. Якщо грошей не
					вистачає то відмовляємо у покупці, інакше, якщо ще залишаються гроші, то
					пропонуємо купити лотерею за 4 грн.
				</p>
				<h2>Результат</h2>
				<script>
					// 1. Вводимо priceItem numberMoney 
					let priceItem = parseFloat(prompt("Введіть ціну товару грн. = "))
					let numberMoney = parseFloat(prompt("Введіть кількість грошей грн. ="))
					// 2. якщо priceItem > numberMoney відмова у покупці, priceItem < numberMoney то пропонуємо
					if (priceItem === 0 && numberMoney === 0) {
						// Виводимо
						document.write("<p>Відмова у покупці!!!</p>")
					}
					else {
						if (priceItem > numberMoney)
							// Виводимо
							document.write("<p>Відмова у покупці!!!</p>")
						else
							// Виводимо
							document.write("<p>Пропонуємо Вам --- Купити лотерею за 4 грн.</p>")
					}
					document.write(`<br>`)
					let result, proposal
					const ticket = 4
					// Оптимізація 
					if (priceItem === 0 && numberMoney === 0) {
						// Виводимо
						result = `Відмова у покупці!!! - По нулях`
					}
					else {
						// коли грошей немає і лотерею не запропонуєш
						if (priceItem > numberMoney && numberMoney === 0)
							result = `Нехватає грошей!!!`
						// коли гроші потрачено на товар повністю (не пропонуємо) або коли залишилося 4 і більше то пропонуємо
						else if (priceItem <= numberMoney) {
							result = `Ви купили товар за ${priceItem}!!!`
							numberMoney = numberMoney - priceItem
							if (numberMoney >= ticket) {
								proposal = confirm(`У вас залишилося ${numberMoney} Ви бажаєте купити лотерею за 4 грн`)
								if (proposal) {
									numberMoney = numberMoney - ticket
									document.write(`<p>Ви купили лотерею</p>`)
								}
							}
						}
						// коли товар дорожче а гроші є то пропонуємо
						else if (priceItem > numberMoney && numberMoney >= ticket) {
							result = `Нехватає грошей на товар.`
							proposal = confirm(`Нехватає грошей!!! У вас ${numberMoney} грн а потрібно ${priceItem}. Ви бажаєте купити лотерею за 4 грн`)
							if (proposal) {
								numberMoney = numberMoney - ticket
								document.write(`<p>Ви купили лотерею</p>`)
							}
						}
						// коли купили і якщо залишаються то пропонуємо
						// else if (priceItem < numberMoney && numberMoney >= ticket) {
						// 	result = `Ви купили товар за ${priceItem}!!!`
						// 	proposal = confirm(`У вас залишилося ${numberMoney = numberMoney - priceItem} Ви бажаєте купити лотерею за 4 грн`)
						// 	if (proposal) {
						// 		numberMoney = numberMoney - ticket
						// 		document.write(`<p>Ви купили лотерею</p>`)
						// 	}
						// }

					}
					document.write(`<p>${result}, залишилось грошей = ${numberMoney}</p>`)

				</script>
			</div>
		</div>
	</div>
</body>

</html>